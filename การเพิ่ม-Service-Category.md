# ‡πÄ‡∏û‡∏¥‡πà‡∏° **Service Category** ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

---

# üì¶ ‡πÄ‡∏û‡∏¥‡πà‡∏° Service `core.category` ‡πÄ‡∏Ç‡πâ‡∏≤ Solution core.final-x.sln

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Service ‡πÉ‡∏´‡∏°‡πà `Category` ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ `Product Service` ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á Clean Architecture

---

## ‚úÖ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Solution ‡πÄ‡∏î‡∏¥‡∏°

```
ProductAPI-final-x/
‚îú‚îÄ‚îÄ core.final-x.sln
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ core.api/
    ‚îú‚îÄ‚îÄ core.product/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.application/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.domain/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.infrastructure/
    ‚îÇ   ‚îî‚îÄ‚îÄ core.product.persistence/
```

---

## üß© ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

‡πÄ‡∏û‡∏¥‡πà‡∏° Service `core.category` ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:

```
ProductAPI-final-x/
‚îú‚îÄ‚îÄ core.final-x.sln
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ core.api/
    ‚îú‚îÄ‚îÄ core.product/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.application/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.domain/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.product.infrastructure/
********************************************
    ‚îú‚îÄ‚îÄ core.category/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.category.application/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.category.domain/
    ‚îÇ   ‚îú‚îÄ‚îÄ core.category.infrastructure/ 
```

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Project ‡πÉ‡∏´‡∏°‡πà

‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°  Project ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `Category`

## Starter:

‡πÉ‡∏´‡πâ Download Multi Project...Final-x ... Starter Add Service Category
https://github.com/nuchit2019/Product_API_Starter_Kit/tree/Final-x

## Final:

Multi Project...Final-x2 ... Code final Service Category 
https://github.com/nuchit2019/Product_API_Starter_Kit/tree/Final-x2

```bash
git clone -b Final-x2 https://github.com/nuchit2019/Product_API_Starter_Kit.git
```

#

‡πÅ‡∏ï‡∏Å Zip ... ‡πÄ‡∏õ‡∏¥‡∏î Solution ...
‡πÄ‡∏û‡∏¥‡πà‡∏° Project Class Library ... ‡∏î‡∏±‡∏á‡∏£‡∏π‡∏õ

![image](https://github.com/user-attachments/assets/c96c40c4-e798-4bf7-b397-db5a050cbb83)


---

## üîÅ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á Project References

‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Layer:
core.api --> core.category

 ![image](https://github.com/user-attachments/assets/06287454-14e8-412e-806f-a7a095aaee2c)


---

## ‚úÖ  ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: SQ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `Category` ‡∏ö‡∏ô **Microsoft SQL Server (MSSQL)** ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£):

```sql
CREATE TABLE Category (
    CategoryId INT IDENTITY(1,1) PRIMARY KEY,  -- Primary Key, Auto Increment
    Name NVARCHAR(100) NOT NULL,               -- ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
    Description NVARCHAR(255) NULL,            -- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)
    IsActive BIT NOT NULL DEFAULT 1,           -- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (1=‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô, 0=‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
    CreatedAt DATETIME NOT NULL DEFAULT GETDATE(), -- ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
    UpdatedAt DATETIME NULL                    -- ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
);
```

## ‚úÖ  ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Foreign Key ‡∏Å‡∏±‡∏ö Product (‡∏Å‡∏£‡∏ì‡∏µ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà):

```sql
ALTER TABLE Product
ADD CategoryId INT NOT NULL
    CONSTRAINT FK_Product_Category FOREIGN KEY (CategoryId) REFERENCES Category(CategoryId);
```


## ‚úÖ  ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏™‡∏£‡πâ‡∏≤‡∏á Class ‡πÅ‡∏•‡∏∞ Layer

### 5.1 `core.category.domain`

```csharp
namespace Core.Category.Domain.Entities;

public class Category
{
    public int CategoryId { get; set; }
    public string Name { get; set; } = default!;
    public string? Description { get; set; }
    public bool IsActive { get; set; } = true;
    public DateTime CreatedAt { get; set; }
    public DateTime? UpdatedAt { get; set; }
}
```

### ‚úÖ 5.2 `core.category.application`

* Interface `ICategoryService`
* DTO: `CreateCategoryRequest`, `CategoryDto`

### ‚úÖ 5.3 `core.category.infrastructure`

* Implement `ICategoryService`
* Add Business Logic

### ‚úÖ 5.4 `core.category.persistence`

* ‡∏™‡∏£‡πâ‡∏≤‡∏á `ICategoryRepository`, `CategoryRepository` (‡πÉ‡∏ä‡πâ Dapper)
* ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ DB MSSQL

---

## üåê ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡πÉ‡∏ô `core.api`

‡πÉ‡∏ô `core.api/Controllers/CategoryController.cs`

```csharp
[ApiController]
[Route("api/[controller]")]
public class CategoryController : ControllerBase
{
    private readonly ICategoryService _service;

    public CategoryController(ICategoryService service)
    {
        _service = service;
    }

    [HttpGet]
    public async Task<IActionResult> GetAll() =>
        Ok(await _service.GetAllAsync());

    [HttpPost]
    public async Task<IActionResult> Create(CreateCategoryRequest request)
    {
        await _service.CreateAsync(request);
        return Ok();
    }
}
```

---

## üõ† ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô DI ‡πÉ‡∏ô `Program.cs`

```csharp
builder.Services.AddScoped<ICategoryService, CategoryService>();
builder.Services.AddScoped<ICategoryRepository, CategoryRepository>();
```

---

## üß™ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 8: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API

‡πÉ‡∏ô `core.api/api.http` ‡∏´‡∏£‡∏∑‡∏≠ Postman:

### üîπ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

```http
POST http://localhost:5000/api/category
Content-Type: application/json

{
  "name": "Notebook",
  "description": "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Å"
}
```

### üîπ ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

```http
GET http://localhost:5000/api/category
```

---

## ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

* ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏ú‡πà‡∏≤‡∏ô Swagger / Postman
* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs

---

## üìå ‡∏™‡∏£‡∏∏‡∏õ

‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° Service ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á Clean Architecture ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:

* Domain ‚Üí Application ‚Üí Infrastructure ‚Üí Persistence ‚Üí API
* ‡πÅ‡∏¢‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏±‡πâ‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Unit Test ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

---
 
